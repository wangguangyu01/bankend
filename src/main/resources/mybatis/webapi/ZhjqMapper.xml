<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.smart119.webapi.dao.ZhjqDao">

    <select id="get" resultType="com.smart119.webapi.domain.ZhjqDO">
        SELECT
            `id`,
            `LYLB`,
            `JQZT`,
            `MS`,
            `FJ`,
            `remarks`,
            `cdate`,
            `cperson`,
            `status`,
            `parent_id`
        FROM zhjq
        WHERE id = #{value}
    </select>

    <select id="list" resultType="com.smart119.webapi.domain.ZhjqDO">
        select `id`,`LYLB`,`JQZT`,`MS`,`FJ`,`remarks`,`cdate`,`cperson`,`status`,`parent_id` from zhjq
        <where>
            <if test="id != null and id != ''">and id = #{id}</if>
            <if test="lylb != null and lylb != ''">and LYLB = #{lylb}</if>
            <if test="jqzt != null and jqzt != ''">and JQZT = #{jqzt}</if>
            <if test="ms != null and ms != ''">and MS = #{ms}</if>
            <if test="fj != null and fj != ''">and FJ = #{fj}</if>
            <if test="remarks != null and remarks != ''">and remarks = #{remarks}</if>
            <if test="cdate != null and cdate != ''">and cdate = #{cdate}</if>
            <if test="cperson != null and cperson != ''">and cperson = #{cperson}</if>
            <if test="status != null and status != ''">and status = #{status}</if>
            <if test="parentId != null and parentId != ''">and parent_id = #{parentId}</if>
        </where>
        <choose>
            <when test="sort != null and sort.trim() != ''">
                order by ${sort} ${order}
            </when>
            <otherwise>
                order by id desc
            </otherwise>
        </choose>
        <if test="offset != null and limit != null">
            limit #{offset}, #{limit}
        </if>
    </select>

    <select id="count" resultType="int">
        select count(*) from zhjq
        <where>
            <if test="id != null and id != ''">and id = #{id}</if>
            <if test="lylb != null and lylb != ''">and LYLB = #{lylb}</if>
            <if test="jqzt != null and jqzt != ''">and JQZT = #{jqzt}</if>
            <if test="ms != null and ms != ''">and MS = #{ms}</if>
            <if test="fj != null and fj != ''">and FJ = #{fj}</if>
            <if test="remarks != null and remarks != ''">and remarks = #{remarks}</if>
            <if test="cdate != null and cdate != ''">and cdate = #{cdate}</if>
            <if test="cperson != null and cperson != ''">and cperson = #{cperson}</if>
            <if test="status != null and status != ''">and status = #{status}</if>
            <if test="parentId != null and parentId != ''">and parent_id = #{parentId}</if>
        </where>
    </select>

    <insert id="save" parameterType="com.smart119.webapi.domain.ZhjqDO">
        INSERT INTO zhjq
        (
            `id`,
            `LYLB`,
            `JQZT`,
            `MS`,
            `FJ`,
            `remarks`,
            `cdate`,
            `cperson`,
            `status`,
            `parent_id`
        )
        VALUES
            (
                #{id},
                #{lylb},
                #{jqzt},
                #{ms},
                #{fj},
                #{remarks},
                #{cdate},
                #{cperson},
                #{status},
                #{parentId}
            )
    </insert>

    <update id="update" parameterType="com.smart119.webapi.domain.ZhjqDO">
        update zhjq
        <set>
            <if test="lylb != null">`LYLB` = #{lylb},</if>
            <if test="jqzt != null">`JQZT` = #{jqzt},</if>
            <if test="ms != null">`MS` = #{ms},</if>
            <if test="fj != null">`FJ` = #{fj},</if>
            <if test="remarks != null">`remarks` = #{remarks},</if>
            <if test="cdate != null">`cdate` = #{cdate},</if>
            <if test="cperson != null">`cperson` = #{cperson},</if>
            <if test="status != null">`status` = #{status},</if>
            <if test="parentId != null">`parent_id` = #{parentId}</if>
        </set>
        where id = #{id}
    </update>

    <delete id="remove">
        DELETE FROM zhjq
        WHERE id = #{value}
    </delete>

    <delete id="batchRemove">
        delete from zhjq where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

    <select id="getZhjqList" resultType="com.smart119.webapi.domain.ZhjqDO">
        select `id`,`LYLB`,`JQZT`,`MS`,`FJ`,`remarks`,`cdate`,`cperson`,`status`,`parent_id` from zhjq
        <where>
            <if test="lylb != null and lylb != ''">and LYLB = #{lylb}</if>
            <if test="jqzt != null and jqzt != ''">and JQZT = #{jqzt}</if>
            <if test="ms != null and ms != ''">and MS = #{ms}</if>
            AND status ='0' AND (parent_id IS NULL OR parent_id ='') order by cdate desc
        </where>

    </select>

    <select id="getZhjqSize" resultType="java.lang.Integer">
        select COUNT(*) from zhjq
        <where>
            <if test="lylb != null and lylb != ''">and LYLB = #{lylb}</if>
            <if test="jqzt != null and jqzt != ''">and JQZT = #{jqzt}</if>
            <if test="ms != null and ms != ''">and MS = #{ms}</if>
            AND status ='0' AND (parent_id IS NULL OR parent_id ='') order by cdate desc
        </where>

    </select>

    <select id="getZhjqxqList" resultType="com.smart119.webapi.domain.ZhjqDO">
        select * from zhjq
        <where>
            <if test="id != null and id != ''">and id = #{id}</if>
            AND status ='0' AND (parent_id IS NULL OR parent_id ='') order by cdate desc
        </where>

    </select>

</mapper>