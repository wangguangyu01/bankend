<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.smart119.jczy.dao.ShlddwDao">

	<select id="get" resultType="com.smart119.jczy.domain.ShlddwDO">
		select `SHLDDW_TYWYSBM`,`DWMC`,`LDDWLBDM`,`DWDZ`,`CZHM`,`XFJYJG_TYWYSBM`,`DWJYQK`,`BZNL_JYQK`,`BZGS_JYQK`,`LXR`,`LXDH`,`DQJD`,`DQWD`,`XZQHDM`,`cdate`,`status`,`cperson` from jczy_shlddw where SHLDDW_TYWYSBM = #{value}
	</select>

	<select id="list" resultType="com.smart119.jczy.domain.ShlddwDO">
		SELECT
		shlddw.`SHLDDW_TYWYSBM`,
		shlddw.`DWMC`,
		shlddw.`LDDWLBDM`,
		shlddw.`DWDZ`,
		shlddw.`CZHM`,
		shlddw.`XFJYJG_TYWYSBM`,
		shlddw.`DWJYQK`,
		shlddw.`BZNL_JYQK`,
		shlddw.`BZGS_JYQK`,
		shlddw.`LXR`,
		shlddw.`LXDH`,
		shlddw.`DQJD`,
		shlddw.`DQWD`,
		shlddw.`XZQHDM`,
		shlddw.`cdate`,
		shlddw.`status`,
		shlddw.`cperson`,
		dept.DWMC as xfjyjgmc,
		dict1.`name` as lddwlb,
		d5.`name` area,
		d6.`name` city,
		d7.`name` province
		FROM
		jczy_shlddw shlddw
		LEFT JOIN sys_dept dept
		on dept.XFJYJG_TYWYSBM = shlddw.XFJYJG_TYWYSBM
		LEFT JOIN sys_dict dict1
		on dict1.`value` = shlddw.LDDWLBDM and dict1.type='lddwlb'
		LEFT JOIN sys_dict d5 ON shlddw.XZQHDM = d5.`value`
		LEFT JOIN sys_dict d6 ON d6.id = d5.parent_id
		LEFT JOIN sys_dict d7 ON d7.id = d6.parent_id
        <where>  
		  		  <if test="shlddwTywysbm != null and shlddwTywysbm != ''"> and shlddw.SHLDDW_TYWYSBM = #{shlddwTywysbm} </if>
		  		  <if test="dwmc != null and dwmc != ''"> and shlddw.DWMC like '%${dwmc}%' </if>
		  		  <if test="lddwlbdm != null and lddwlbdm != ''"> and shlddw.LDDWLBDM = #{lddwlbdm} </if>
		  		  <if test="dwdz != null and dwdz != ''"> and shlddw.DWDZ = #{dwdz} </if>
		  		  <if test="czhm != null and czhm != ''"> and shlddw.CZHM = #{czhm} </if>
		  		  <if test="xfjyjgTywysbm != null and xfjyjgTywysbm != ''"> and shlddw.XFJYJG_TYWYSBM = #{xfjyjgTywysbm} </if>
		  		  <if test="dwjyqk != null and dwjyqk != ''"> and shlddw.DWJYQK = #{dwjyqk} </if>
		  		  <if test="bznlJyqk != null and bznlJyqk != ''"> and shlddw.BZNL_JYQK = #{bznlJyqk} </if>
		  		  <if test="bzgsJyqk != null and bzgsJyqk != ''"> and shlddw.BZGS_JYQK = #{bzgsJyqk} </if>
		  		  <if test="lxr != null and lxr != ''"> and shlddw.LXR = #{lxr} </if>
		  		  <if test="lxdh != null and lxdh != ''"> and shlddw.LXDH = #{lxdh} </if>
		  		  <if test="dqjd != null and dqjd != ''"> and shlddw.DQJD = #{dqjd} </if>
		  		  <if test="dqwd != null and dqwd != ''"> and shlddw.DQWD = #{dqwd} </if>
		  		  <if test="xzqhdm != null and xzqhdm != ''"> and shlddw.XZQHDM = #{xzqhdm} </if>
		  		  <if test="cdate != null and cdate != ''"> and shlddw.cdate = #{cdate} </if>
		  		  <if test="status != null and status != ''"> and shlddw.status = #{status} </if>
		  		  <if test="cperson != null and cperson != ''"> and shlddw.cperson = #{cperson} </if>
		  		</where>
        <choose>
            <when test="sort != null and sort.trim() != ''">
                order by ${sort} ${order}
            </when>
			<otherwise>
                order by SHLDDW_TYWYSBM desc
			</otherwise>
        </choose>
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
 	<select id="count" resultType="int">
		select count(*) from jczy_shlddw
		 <where>  
		  		  <if test="shlddwTywysbm != null and shlddwTywysbm != ''"> and SHLDDW_TYWYSBM = #{shlddwTywysbm} </if>
		  		  <if test="dwmc != null and dwmc != ''"> and DWMC = #{dwmc} </if>
		  		  <if test="lddwlbdm != null and lddwlbdm != ''"> and LDDWLBDM = #{lddwlbdm} </if>
		  		  <if test="dwdz != null and dwdz != ''"> and DWDZ = #{dwdz} </if>
		  		  <if test="czhm != null and czhm != ''"> and CZHM = #{czhm} </if>
		  		  <if test="xfjyjgTywysbm != null and xfjyjgTywysbm != ''"> and XFJYJG_TYWYSBM = #{xfjyjgTywysbm} </if>
		  		  <if test="dwjyqk != null and dwjyqk != ''"> and DWJYQK = #{dwjyqk} </if>
		  		  <if test="bznlJyqk != null and bznlJyqk != ''"> and BZNL_JYQK = #{bznlJyqk} </if>
		  		  <if test="bzgsJyqk != null and bzgsJyqk != ''"> and BZGS_JYQK = #{bzgsJyqk} </if>
		  		  <if test="lxr != null and lxr != ''"> and LXR = #{lxr} </if>
		  		  <if test="lxdh != null and lxdh != ''"> and LXDH = #{lxdh} </if>
		  		  <if test="dqjd != null and dqjd != ''"> and DQJD = #{dqjd} </if>
		  		  <if test="dqwd != null and dqwd != ''"> and DQWD = #{dqwd} </if>
		  		  <if test="xzqhdm != null and xzqhdm != ''"> and XZQHDM = #{xzqhdm} </if>
		  		  <if test="cdate != null and cdate != ''"> and cdate = #{cdate} </if>
		  		  <if test="status != null and status != ''"> and status = #{status} </if>
		  		  <if test="cperson != null and cperson != ''"> and cperson = #{cperson} </if>
		  		</where>
	</select>
	 
	<insert id="save" parameterType="com.smart119.jczy.domain.ShlddwDO">
		insert into jczy_shlddw
		(
			`SHLDDW_TYWYSBM`, 
			`DWMC`, 
			`LDDWLBDM`, 
			`DWDZ`, 
			`CZHM`, 
			`XFJYJG_TYWYSBM`, 
			`DWJYQK`, 
			`BZNL_JYQK`, 
			`BZGS_JYQK`, 
			`LXR`, 
			`LXDH`, 
			`DQJD`, 
			`DQWD`, 
			`XZQHDM`, 
			`cdate`, 
			`status`, 
			`cperson`
		)
		values
		(
			#{shlddwTywysbm}, 
			#{dwmc}, 
			#{lddwlbdm}, 
			#{dwdz}, 
			#{czhm}, 
			#{xfjyjgTywysbm}, 
			#{dwjyqk}, 
			#{bznlJyqk}, 
			#{bzgsJyqk}, 
			#{lxr}, 
			#{lxdh}, 
			#{dqjd}, 
			#{dqwd}, 
			#{xzqhdm}, 
			#{cdate}, 
			#{status}, 
			#{cperson}
		)
	</insert>
	 
	<update id="update" parameterType="com.smart119.jczy.domain.ShlddwDO">
		update jczy_shlddw 
		<set>
			<if test="dwmc != null">`DWMC` = #{dwmc}, </if>
			<if test="lddwlbdm != null">`LDDWLBDM` = #{lddwlbdm}, </if>
			<if test="dwdz != null">`DWDZ` = #{dwdz}, </if>
			<if test="czhm != null">`CZHM` = #{czhm}, </if>
			<if test="xfjyjgTywysbm != null">`XFJYJG_TYWYSBM` = #{xfjyjgTywysbm}, </if>
			<if test="dwjyqk != null">`DWJYQK` = #{dwjyqk}, </if>
			<if test="bznlJyqk != null">`BZNL_JYQK` = #{bznlJyqk}, </if>
			<if test="bzgsJyqk != null">`BZGS_JYQK` = #{bzgsJyqk}, </if>
			<if test="lxr != null">`LXR` = #{lxr}, </if>
			<if test="lxdh != null">`LXDH` = #{lxdh}, </if>
			<if test="dqjd != null">`DQJD` = #{dqjd}, </if>
			<if test="dqwd != null">`DQWD` = #{dqwd}, </if>
			<if test="xzqhdm != null">`XZQHDM` = #{xzqhdm}, </if>
			<if test="cdate != null">`cdate` = #{cdate}, </if>
			<if test="status != null">`status` = #{status}, </if>
			<if test="cperson != null">`cperson` = #{cperson}</if>
		</set>
		where SHLDDW_TYWYSBM = #{shlddwTywysbm}
	</update>
	
	<delete id="remove">
		delete from jczy_shlddw where SHLDDW_TYWYSBM = #{value}
	</delete>
	
	<delete id="batchRemove">
		delete from jczy_shlddw where SHLDDW_TYWYSBM in 
		<foreach item="shlddwTywysbm" collection="array" open="(" separator="," close=")">
			#{shlddwTywysbm}
		</foreach>
	</delete>

</mapper>